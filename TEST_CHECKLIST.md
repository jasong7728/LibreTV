# LibreTV V2.1 重构测试清单

## 功能测试清单

### ✅ 基础功能测试
- [ ] 页面加载正常
- [ ] 侧边栏导航正常显示
- [ ] 移动端侧边栏收起/展开功能
- [ ] 路由切换正常

### ✅ 搜索功能测试
- [ ] 搜索输入框正常
- [ ] 搜索按钮功能正常
- [ ] 搜索历史显示和点击
- [ ] 观看历史显示和点击功能
- [ ] 选集后自动跳转播放界面
- [ ] 历史记录选中后跳转播放界面

### ✅ 豆瓣热门功能测试
- [ ] 电影/电视剧切换功能
- [ ] 标签筛选功能
- [ ] 懒加载功能 (预加载20个)
- [ ] 滚动加载更多内容
- [ ] 卡片悬停效果
- [ ] 点击卡片跳转播放

### ✅ 播放器功能测试
- [ ] 播放器正常初始化
- [ ] 视频播放控制
- [ ] 选集面板功能
- [ ] 离开播放界面自动暂停
- [ ] 播放进度保存
- [ ] 历史记录自动保存

### ✅ 设置功能测试
- [ ] API源管理
- [ ] 自定义API添加
- [ ] 配置导入/导出
- [ ] 设置保存和加载

### ✅ 关于页面测试
- [ ] 版本信息显示
- [ ] 项目统计数据
- [ ] 技术栈信息
- [ ] 联系方式和链接

### ✅ 响应式设计测试
- [ ] 桌面端布局
- [ ] 平板端布局
- [ ] 移动端布局
- [ ] 侧边栏响应式行为

### ✅ 部署兼容性测试
- [ ] Vercel 部署测试
- [ ] Cloudflare Pages 部署测试
- [ ] Docker 部署测试

## 性能优化验证

### ✅ CSS优化
- [ ] 单一CSS文件加载
- [ ] 样式一致性检查
- [ ] 字体大小统一性
- [ ] 色调一致性

### ✅ JavaScript优化
- [ ] 懒加载性能
- [ ] 内存使用优化
- [ ] 事件监听器正确绑定
- [ ] 组件间通信正常

### ✅ 用户体验优化
- [ ] 页面切换流畅
- [ ] 动画效果自然
- [ ] 加载状态提示
- [ ] 错误处理友好

## 已知改进点

### 已实现的功能增强
1. **豆瓣热门懒加载**: 预加载20个内容，滚动时自动加载更多
2. **播放器智能控制**: 选集和历史记录自动跳转播放界面，离开时自动暂停
3. **CSS样式合并**: 统一的样式文件，提高维护性
4. **观看历史整合**: 搜索界面显示观看历史，一键续播
5. **响应式优化**: 更好的移动端体验

### 保持的原有功能
1. **多源搜索**: 保持原有的API聚合搜索功能
2. **播放功能**: 保持原有的视频播放能力
3. **设置管理**: 保持原有的配置管理功能
4. **部署兼容**: 确保三种部署方式兼容性

## 测试步骤

### 1. 基础功能测试
```bash
# 启动开发服务器
npm run dev

# 访问 http://localhost:8080
# 测试各个页面的基础功能
```

### 2. 懒加载测试
1. 进入豆瓣热门页面
2. 观察初始加载的内容数量
3. 向下滚动测试自动加载
4. 检查网络请求是否分批进行

### 3. 播放器测试
1. 在搜索页面点击搜索结果
2. 验证是否自动跳转到播放界面
3. 测试选集功能
4. 验证离开页面时的自动暂停
5. 检查观看历史是否正确保存

### 4. 历史记录测试
1. 播放几个视频
2. 回到搜索页面
3. 验证观看历史是否显示
4. 点击历史记录测试跳转功能

### 5. 响应式测试
1. 调整浏览器窗口大小
2. 测试移动端菜单
3. 验证各设备上的布局效果

## 部署测试

### Vercel测试
```bash
# 确保 vercel.json 配置正确
# 测试环境变量设置
# 验证API代理功能
```

### Cloudflare Pages测试
```bash
# 确保 Functions 正常工作
# 测试边缘计算功能
# 验证静态资源CDN
```

### Docker测试
```bash
# 构建镜像
docker build -t libretv:v2.1 .

# 运行容器
docker run -p 8080:8080 libretv:v2.1

# 测试容器内功能
```

## 问题记录

请在测试过程中记录发现的问题：

| 问题描述 | 严重程度 | 影响范围 | 修复状态 |
|---------|---------|---------|---------|
| 示例问题 | 高/中/低 | 功能/性能/体验 | 已修复/待修复 |

## 验收标准

- [ ] 所有基础功能正常工作
- [ ] 新增功能按预期运行
- [ ] 响应式设计在各设备正常
- [ ] 三种部署方式兼容
- [ ] 性能相比V2.0有所提升
- [ ] 用户体验得到改善
- [ ] 代码质量提高，维护性增强
